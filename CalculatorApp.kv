<CalculatorScreen>:
    orientation: 'horizontal'
    spacing: 10
    padding: 10

    # Calculator Area
    BoxLayout:
        orientation: 'vertical'
        spacing: 20

        TextInput:
            id: exp_input
            font_size: 50
            hint_text: ""
            readonly: False
            multiline: False

        BoxLayout:
            orientation: 'horizontal'
            spacing: 10
            Button:
                text: '7'
                on_press: root.update_input(self.text)
            Button:
                text: '8'
                on_press: root.update_input(self.text)
            Button:
                text: '9'
                on_press: root.update_input(self.text)
            Button:
                text: '/'
                on_press: root.update_input(self.text)

        BoxLayout:
            orientation: 'horizontal'
            spacing: 10
            Button:
                text: '4'
                on_press: root.update_input(self.text)
            Button:
                text: '5'
                on_press: root.update_input(self.text)
            Button:
                text: '6'
                on_press: root.update_input(self.text)
            Button:
                text: '*'
                on_press: root.update_input(self.text)

        BoxLayout:
            orientation: 'horizontal'
            spacing: 10
            Button:
                text: '1'
                on_press: root.update_input(self.text)
            Button:
                text: '2'
                on_press: root.update_input(self.text)
            Button:
                text: '3'
                on_press: root.update_input(self.text)
            Button:
                text: '-'
                on_press: root.update_input(self.text)

        BoxLayout:
            orientation: 'horizontal'
            spacing: 10
            Button:
                text: '0'
                on_press: root.update_input(self.text)
            Button:
                text: '+'
                on_press: root.update_input(self.text)
            Button:
                text: '('
                on_press: root.update_input(self.text)
            Button:
                text: ')'
                on_press: root.update_input(self.text)

        BoxLayout:
            orientation: 'horizontal'
            spacing: 10
            Button:
                text: ''
                background_normal: 'backspace.png'
                on_press: root.clear_last_character()
            Button:
                text: 'C'
                on_press: root.clear()
            Button:
                text: '='
                on_press: root.calculate()
            Button:
                text: '%'
                on_press: root.update_input(self.text)

            Button:
                id: toggle_btn
                text: "History"
                on_press: app.root.toggle_screen()

<HistoryScreen>:
    BoxLayout:
        orientation: 'vertical'
        spacing: 20
        canvas.before:
            Color:
                rgba: 0.95, 0.95, 0.95, 1
            Rectangle:
                pos: self.pos
                size: self.size

        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: None
            spacing : 10
            height: 40
            Label:
                text: "History"
                height: 40
                size_hint_y: None
                color: 0.2, 0.3, 0.4, 1
                canvas.before:
                    Color:
                        rgba: 1, 0.6, 0.2, 1
                    Rectangle:
                        pos: self.pos
                        size: self.size


            Button:
                text: "Clear"
                height: 40
                size_hint_y: None
                on_press: root.clear_history()

            Button:
                id: toggle_btn
                text: "Calci"
                height: 40
                size_hint_y: None
                on_press: app.root.toggle_screen()

            
        ScrollView:
            do_scroll_x: True
            do_scroll_y: True

            Label:
                id: history_label
                text: "Welcome!!"
                font_size: 40
                color: 0.2, 0.3, 0.4, 1
                size_hint_x: None
                size_hint_y: None
                on_texture_size: self.size = self.texture_size  # Match size to text content
                
            

<AppScreen>:
    CalculatorScreen:
        name: "calculator"
    HistoryScreen:
        name: "history"

